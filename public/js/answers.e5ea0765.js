(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["answers"],{2909:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){if(Array.isArray(e))return n(e)}r.d(t,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0");function i(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return a(e)||s(e)||i(e)||o()}},"4df4":function(e,t,r){"use strict";var n=r("0366"),a=r("7b0b"),s=r("9bdd"),i=r("e95a"),o=r("50c4"),c=r("8418"),u=r("35a1");e.exports=function(e){var t,r,d,l,f,b,p=a(e),h="function"==typeof this?this:Array,v=arguments.length,w=v>1?arguments[1]:void 0,g=void 0!==w,O=u(p),j=0;if(g&&(w=n(w,v>2?arguments[2]:void 0,2)),void 0==O||h==Array&&i(O))for(t=o(p.length),r=new h(t);t>j;j++)b=g?w(p[j],j):p[j],c(r,j,b);else for(l=O.call(p),f=l.next,r=new h;!(d=f.call(l)).done;j++)b=g?s(l,w,[d.value,j],!0):d.value,c(r,j,b);return r.length=j,r}},"881b":function(e,t,r){"use strict";r.r(t);r("7db0");var n=r("7a23"),a={key:0,class:"h-24"},s={class:"inline-flex flex-col"};function i(e,t,r,i,o,c){var u,d;return Object(n["p"])(),Object(n["d"])(n["a"],null,[null!==(u=e.questions)&&void 0!==u&&u.length&&null!==(d=e.parties)&&void 0!==d&&d.length?(Object(n["p"])(),Object(n["d"])("div",a,[Object(n["g"])("div",null,Object(n["z"])(e.questions[e.index].title),1),(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(e.parties,(function(t){var r;return Object(n["p"])(),Object(n["d"])("span",{key:t.id},[Object(n["g"])("span",s,[Object(n["f"])(Object(n["z"])(t.abbreviation)+" ",1),Object(n["g"])("input",{type:"number",max:"5",min:"1",class:"w-16",value:null===(r=e.answers.find((function(r){return r.QuestionId===e.currentQuestion.id&&r.PartyId===t.id})))||void 0===r?void 0:r.agreeLevel,onChange:function(r){return e.changeAgreeLevel(t.id,r.target.value)}},null,40,["value","onChange"])])])})),128))])):Object(n["e"])("",!0),Object(n["g"])("a",{href:"#",onClick:t[1]||(t[1]=Object(n["D"])((function(t){return e.index--}),["prevent"]))}," Předchozí "),Object(n["g"])("a",{href:"#",onClick:t[2]||(t[2]=Object(n["D"])((function(){return e.sendAnswers&&e.sendAnswers.apply(e,arguments)}),["prevent"]))}," Odeslat "),Object(n["g"])("a",{href:"#",onClick:t[3]||(t[3]=Object(n["D"])((function(t){return e.index++}),["prevent"]))}," Další ")],64)}var o=r("1da1"),c=(r("c740"),r("a434"),r("159b"),r("99af"),r("96cf"),r("79f6")),u=Object(n["h"])({name:"Answers",data:function(){return{index:0,parties:[],questions:[],answers:[],newAnswers:[],modifiedAnswers:[]}},computed:{currentQuestion:function(){return this.questions[this.index]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["a"])({url:"parties"});case 2:return e.parties=t.sent,t.next=5,Object(c["a"])({url:"questions"});case 5:return e.questions=t.sent,t.next=8,Object(c["a"])({url:"answers"});case 8:e.answers=t.sent;case 9:case"end":return t.stop()}}),t)})))()},methods:{changeAgreeLevel:function(e,t){var r=this.currentQuestion,n=this.answers.find((function(t){return t.QuestionId===r.id&&t.PartyId===e})),a=this.newAnswers.findIndex((function(t){return t.QuestionId===r.id&&t.PartyId===e}));-1!==a&&this.newAnswers.splice(a,1);var s=this.modifiedAnswers.findIndex((function(t){return t.QuestionId===r.id&&t.PartyId===e}));if(-1!==s&&this.modifiedAnswers.splice(s,1),t){var i={PartyId:e,QuestionId:r.id,agreeLevel:parseInt(t)};console.log("existing:",!!n,"answer:",i),n?this.modifiedAnswers.push(i):this.newAnswers.push(i)}},sendAnswers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("sending these:",e.newAnswers),Object(c["b"])({url:"answers",body:e.newAnswers}),e.modifiedAnswers.forEach((function(e){Object(c["b"])({url:"answers/".concat(e.QuestionId,"/").concat(e.PartyId),body:e,method:"PUT"})})),e.newAnswers=[],e.modifiedAnswers=[],t.next=7,Object(c["a"])({url:"answers"});case 7:e.answers=t.sent;case 8:case"end":return t.stop()}}),t)})))()}}});u.render=i;t["default"]=u},"9bdd":function(e,t,r){var n=r("825a"),a=r("2a62");e.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(i){throw a(e),i}}},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),s=r("a691"),i=r("50c4"),o=r("7b0b"),c=r("65f0"),u=r("8418"),d=r("1dde"),l=d("splice"),f=Math.max,b=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var r,n,d,l,v,w,g=o(this),O=i(g.length),j=a(e,O),m=arguments.length;if(0===m?r=n=0:1===m?(r=0,n=O-j):(r=m-2,n=b(f(s(t),0),O-j)),O+r-n>p)throw TypeError(h);for(d=c(g,n),l=0;l<n;l++)v=j+l,v in g&&u(d,l,g[v]);if(d.length=n,r<n){for(l=j;l<O-n;l++)v=l+n,w=l+r,v in g?g[w]=g[v]:delete g[w];for(l=O;l>O-n+r;l--)delete g[l-1]}else if(r>n)for(l=O-n;l>j;l--)v=l+n-1,w=l+r-1,v in g?g[w]=g[v]:delete g[w];for(l=0;l<r;l++)g[l+j]=arguments[l+2];return g.length=O-n+r,d}})},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),s=r("1c7e"),i=!s((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:a})},f37e:function(e,t,r){"use strict";r.r(t);r("7db0");var n=r("7a23"),a={key:0,class:"grid gap-6"},s={class:"pb-2 text-left font-medium sm:w-2/3"},i={class:"grid grid-cols-6 gap-1"},o=Object(n["g"])("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"},null,-1),c={key:0,class:"sm:hidden inline-block mb-1 font-bold text-gray-500 text-md transform -translate-y-1"},u={class:"text-xs md:text-sm hidden sm:inline-block"},d={class:"flex flex-shrink-0 flex-wrap justify-center"};function l(e,t,r,l,f,b){var p,h;return null!==(p=e.questions)&&void 0!==p&&p.length&&null!==(h=e.parties)&&void 0!==h&&h.length?(Object(n["p"])(),Object(n["d"])("div",a,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(e.questions,(function(t){return Object(n["p"])(),Object(n["d"])("div",{key:t.id},[Object(n["g"])("h3",s,Object(n["z"])(t.title),1),Object(n["g"])("div",i,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(e.reverseOrder,(function(r,a){return Object(n["p"])(),Object(n["d"])("div",{key:r,class:["border-2 rounded-md py-2",0===a||1===a?"border-green-300":2===a?"border-yellow-300":3===a||4===a?"border-red-300":"border-gray-300"]},[(Object(n["p"])(),Object(n["d"])("svg",{class:["inline-block sm:hidden h-5 w-5 mb-2",0===a?"text-green-500 transform rotate-0":1===a?"text-green-500 transform rotate-45":2===a?"text-yellow-500 transform rotate-90":3===a?"text-red-500 transform rotate-135":4===a?"text-red-500 transform rotate-180":"hidden"],xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o],2)),5===a?(Object(n["p"])(),Object(n["d"])("span",c," ? ")):Object(n["e"])("",!0),Object(n["g"])("span",u,Object(n["z"])(0===a?"Souhlasí":1===a?"Spíše souhlasí":2===a?"Neutrální":3===a?"Spíše nesouhlasí":4===a?"Nesouhlasí":"Neví/neodpověděli"),1),Object(n["g"])("div",d,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(e.parties,(function(a){var s;return Object(n["p"])(),Object(n["d"])(n["a"],{key:a.id},[r===(null===(s=e.answers.find((function(e){return e.QuestionId===t.id&&e.PartyId===a.id})))||void 0===s?void 0:s.agreeLevel)?(Object(n["p"])(),Object(n["d"])("span",{key:0,class:"h-10 w-10 block bg-contain border-2 rounded-md bg-white transform transition-all duration-150 hover:z-10 hover:duration-300 scale-90 hover:scale-150 opacity-70 hover:opacity-100",style:{backgroundImage:"url(https://data.programydovoleb.cz/".concat(a.logo,")")}},null,4)):Object(n["e"])("",!0)],64)})),128))])],2)})),128))])])})),128))])):Object(n["e"])("",!0)}var f=r("2909"),b=r("1da1"),p=(r("96cf"),r("99af"),r("159b"),r("c740"),r("bc3a")),h=r.n(p),v=r("79f6"),w=Object(n["h"])({name:"Answers",data:function(){return{parties:[],questions:[],answers:[],newAnswers:[],modifiedAnswers:[],reverseOrder:[5,4,3,2,1,void 0]}},computed:{},created:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["a"])({url:"questions"});case 2:return e.questions=t.sent,t.next=5,Object(v["a"])({url:"answers"});case 5:return e.answers=t.sent,e.parties=e.$store.state.parties,t.next=9,e.getPartiesDetail();case 9:e.parties=[].concat(Object(f["a"])(e.parties),[{Answers:e.$store.state.answers,id:"user",isUser:!0}]),console.log(e.parties);case 11:case"end":return t.stop()}}),t)})))()},methods:{getPartiesDetail:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://2021.programydovoleb.cz/lib/app/api.php?action=party/list");case 2:r=t.sent.data.list,e.parties.forEach((function(t){var n=e.parties.findIndex((function(e){return e.id===t.id})),a=r.find((function(e){return e.hash===t.externalId}));e.parties[n].color=a.color,e.parties[n].logo=a.logo}));case 4:case"end":return t.stop()}}),t)})))()}}});w.render=l;t["default"]=w},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("861d"),s=r("e8b5"),i=r("23cb"),o=r("50c4"),c=r("fc6a"),u=r("8418"),d=r("b622"),l=r("1dde"),f=l("slice"),b=d("species"),p=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,d,l=c(this),f=o(l.length),v=i(e,f),w=i(void 0===t?f:t,f);if(s(l)&&(r=l.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?a(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(l,v,w);for(n=new(void 0===r?Array:r)(h(w-v,0)),d=0;v<w;v++,d++)v in l&&u(n,d,l[v]);return n.length=d,n}})}}]);
//# sourceMappingURL=answers.e5ea0765.js.map