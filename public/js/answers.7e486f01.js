(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["answers"],{2909:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){if(Array.isArray(e))return n(e)}r.d(t,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0");function a(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return i(e)||s(e)||a(e)||o()}},"4df4":function(e,t,r){"use strict";var n=r("0366"),i=r("7b0b"),s=r("9bdd"),a=r("e95a"),o=r("50c4"),c=r("8418"),l=r("35a1");e.exports=function(e){var t,r,u,d,f,b,p=i(e),h="function"==typeof this?this:Array,v=arguments.length,j=v>1?arguments[1]:void 0,O=void 0!==j,w=l(p),g=0;if(O&&(j=n(j,v>2?arguments[2]:void 0,2)),void 0==w||h==Array&&a(w))for(t=o(p.length),r=new h(t);t>g;g++)b=O?j(p[g],g):p[g],c(r,g,b);else for(d=w.call(p),f=d.next,r=new h;!(u=f.call(d)).done;g++)b=O?s(d,j,[u.value,g],!0):u.value,c(r,g,b);return r.length=g,r}},"881b":function(e,t,r){"use strict";r.r(t);r("7db0");var n=r("7a23"),i={key:0,class:"h-24"},s={class:"inline-flex flex-col"};function a(e,t,r,a,o,c){var l,u;return Object(n["r"])(),Object(n["f"])(n["a"],null,[null!==(l=e.questions)&&void 0!==l&&l.length&&null!==(u=e.parties)&&void 0!==u&&u.length?(Object(n["r"])(),Object(n["f"])("div",i,[Object(n["i"])("div",null,Object(n["B"])(e.questions[e.index].title),1),(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(e.parties,(function(t){var r;return Object(n["r"])(),Object(n["f"])("span",{key:t.id},[Object(n["i"])("span",s,[Object(n["h"])(Object(n["B"])(t.abbreviation)+" ",1),Object(n["i"])("input",{type:"number",max:"5",min:"1",class:"w-16",value:null===(r=e.answers.find((function(r){return r.QuestionId===e.currentQuestion.id&&r.PartyId===t.id})))||void 0===r?void 0:r.agreeLevel,onChange:function(r){return e.changeAgreeLevel(t.id,r.target.value)}},null,40,["value","onChange"])])])})),128))])):Object(n["g"])("",!0),Object(n["i"])("a",{href:"#",onClick:t[1]||(t[1]=Object(n["F"])((function(t){return e.index--}),["prevent"]))}," Předchozí "),Object(n["i"])("a",{href:"#",onClick:t[2]||(t[2]=Object(n["F"])((function(){return e.sendAnswers&&e.sendAnswers.apply(e,arguments)}),["prevent"]))}," Odeslat "),Object(n["i"])("a",{href:"#",onClick:t[3]||(t[3]=Object(n["F"])((function(t){return e.index++}),["prevent"]))}," Další ")],64)}var o=r("1da1"),c=(r("c740"),r("a434"),r("159b"),r("99af"),r("96cf"),r("79f6")),l=Object(n["j"])({name:"Answers",data:function(){return{index:0,parties:[],questions:[],answers:[],newAnswers:[],modifiedAnswers:[]}},computed:{currentQuestion:function(){return this.questions[this.index]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["a"])({url:"parties"});case 2:return e.parties=t.sent,t.next=5,Object(c["a"])({url:"questions"});case 5:return e.questions=t.sent,t.next=8,Object(c["a"])({url:"answers"});case 8:e.answers=t.sent;case 9:case"end":return t.stop()}}),t)})))()},methods:{changeAgreeLevel:function(e,t){var r=this.currentQuestion,n=this.answers.find((function(t){return t.QuestionId===r.id&&t.PartyId===e})),i=this.newAnswers.findIndex((function(t){return t.QuestionId===r.id&&t.PartyId===e}));-1!==i&&this.newAnswers.splice(i,1);var s=this.modifiedAnswers.findIndex((function(t){return t.QuestionId===r.id&&t.PartyId===e}));if(-1!==s&&this.modifiedAnswers.splice(s,1),t){var a={PartyId:e,QuestionId:r.id,agreeLevel:parseInt(t)};console.log("existing:",!!n,"answer:",a),n?this.modifiedAnswers.push(a):this.newAnswers.push(a)}},sendAnswers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("sending these:",e.newAnswers),Object(c["b"])({url:"answers",body:e.newAnswers}),e.modifiedAnswers.forEach((function(e){Object(c["b"])({url:"answers/".concat(e.QuestionId,"/").concat(e.PartyId),body:e,method:"PUT"})})),e.newAnswers=[],e.modifiedAnswers=[],t.next=7,Object(c["a"])({url:"answers"});case 7:e.answers=t.sent;case 8:case"end":return t.stop()}}),t)})))()}}});l.render=a;t["default"]=l},"9bdd":function(e,t,r){var n=r("825a"),i=r("2a62");e.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(a){throw i(e),a}}},a434:function(e,t,r){"use strict";var n=r("23e7"),i=r("23cb"),s=r("a691"),a=r("50c4"),o=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),d=u("splice"),f=Math.max,b=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,n,u,d,v,j,O=o(this),w=a(O.length),g=i(e,w),m=arguments.length;if(0===m?r=n=0:1===m?(r=0,n=w-g):(r=m-2,n=b(f(s(t),0),w-g)),w+r-n>p)throw TypeError(h);for(u=c(O,n),d=0;d<n;d++)v=g+d,v in O&&l(u,d,O[v]);if(u.length=n,r<n){for(d=g;d<w-n;d++)v=d+n,j=d+r,v in O?O[j]=O[v]:delete O[j];for(d=w;d>w-n+r;d--)delete O[d-1]}else if(r>n)for(d=w-n;d>g;d--)v=d+n-1,j=d+r-1,v in O?O[j]=O[v]:delete O[j];for(d=0;d<r;d++)O[d+g]=arguments[d+2];return O.length=w-n+r,u}})},a630:function(e,t,r){var n=r("23e7"),i=r("4df4"),s=r("1c7e"),a=!s((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:a},{from:i})},caad:function(e,t,r){"use strict";var n=r("23e7"),i=r("4d64").includes,s=r("44d2");n({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},f37e:function(e,t,r){"use strict";r.r(t);r("caad"),r("7db0"),r("b0c0");var n=r("7a23"),i={key:0,class:"grid gap-6 py-4"},s={class:"pb-2 flex flex-row items-center"},a={class:"h-4 w-4 mr-2 text-gray-500 font-semibold leading-3 select-none"},o=Object(n["i"])("path",{"fill-rule":"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),c={class:"text-left font-medium sm:w-2/3"},l={class:"grid grid-cols-6 gap-1"},u=Object(n["i"])("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"},null,-1),d={key:0,class:"sm:hidden inline-block mb-1 font-bold text-gray-500 text-md transform -translate-y-1"},f={class:"text-xs md:text-sm hidden sm:inline-block"},b={class:"flex flex-shrink-0 flex-wrap justify-center"},p={key:0,class:"party-name transition-all opacity-0 group-hover:opacity-90 hidden group-hover:inline-block overflow-visible absolute bg-white rounded"},h={class:""};function v(e,t,v,j,O,w){var g,m,y=Object(n["z"])("loading");return null!==(g=e.questions)&&void 0!==g&&g.length&&null!==(m=e.parties)&&void 0!==m&&m.length?(Object(n["r"])(),Object(n["f"])("div",i,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(e.questions,(function(t){return Object(n["r"])(),Object(n["f"])("div",{key:t.id},[Object(n["i"])("span",s,[Object(n["i"])("span",a,[["top","bottom","left","right"].includes(t.position)?(Object(n["r"])(),Object(n["f"])("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",class:["transform",{"rotate-90":"left"===t.position,"-rotate-90":"right"===t.position,"rotate-180":"top"===t.position}],viewBox:"0 0 20 20",fill:"currentColor"},[o],2)):(Object(n["r"])(),Object(n["f"])(n["a"],{key:1},[Object(n["h"])(Object(n["B"])("center"===t.position?"●":t.position[0]),1)],64))]),Object(n["i"])("h3",c,Object(n["B"])(t.title),1)]),Object(n["i"])("div",l,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(e.reverseOrder,(function(i,s){return Object(n["r"])(),Object(n["f"])("div",{key:i,class:["border-2 rounded-md py-2",0===s||1===s?"border-green-300":2===s?"border-yellow-300":3===s||4===s?"border-red-300":"border-gray-300"]},[(Object(n["r"])(),Object(n["f"])("svg",{class:["inline-block sm:hidden h-5 w-5 mb-2",0===s?"text-green-500 transform rotate-0":1===s?"text-green-500 transform rotate-45":2===s?"text-yellow-500 transform rotate-90":3===s?"text-red-500 transform rotate-135":4===s?"text-red-500 transform rotate-180":"hidden"],xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[u],2)),5===s?(Object(n["r"])(),Object(n["f"])("span",d," ? ")):Object(n["g"])("",!0),Object(n["i"])("span",f,Object(n["B"])(0===s?"Souhlasí":1===s?"Spíše souhlasí":2===s?"Neutrální":3===s?"Spíše nesouhlasí":4===s?"Nesouhlasí":"Neví/neodpověděli"),1),Object(n["i"])("div",b,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(e.parties,(function(s){var a,o;return Object(n["r"])(),Object(n["f"])(n["a"],{key:s.id},[i==(null===(a=s.Answers.find((function(e){return e.Question.id===t.id})))||void 0===a?void 0:a.agreeLevel)||!i&&0==(null===(o=s.Answers.find((function(e){return e.Question.id===t.id})))||void 0===o?void 0:o.agreeLevel)?(Object(n["r"])(),Object(n["f"])("span",{key:0,class:["h-10 w-10 block transform scale-90 opacity-70 group",{"border-2 rounded-md bg-white bg-contain transition-all duration-150 hover:z-10 hover:duration-300 hover:scale-150 hover:opacity-100":!s.isUser}],style:{backgroundImage:s.isUser?"url(".concat(e.locationMarker,")"):"url(".concat(r("b553")("./".concat(s.id,".png")),")")}},[s.isUser?Object(n["g"])("",!0):(Object(n["r"])(),Object(n["f"])("span",p,[Object(n["i"])("span",h,Object(n["B"])(s.name),1)]))],6)):Object(n["g"])("",!0)],64)})),128))])],2)})),128))])])})),128))])):(Object(n["r"])(),Object(n["f"])(y,{key:1}))}var j=r("2909"),O=r("1da1"),w=(r("96cf"),r("99af"),r("3a5e")),g=r("79f6"),m=r("0b73"),y=r.n(m),x=Object(n["j"])({name:"Answers",components:{Loading:w["a"]},data:function(){return{parties:[],questions:[],reverseOrder:[5,4,3,2,1,void 0],locationMarker:y.a}},computed:{},created:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(g["a"])({url:"questions"});case 2:e.questions=t.sent,e.parties=[].concat(Object(j["a"])(e.$store.state.parties),[{Answers:e.$store.state.answers,isUser:!0}]),console.log("parties with user",e.parties);case 5:case"end":return t.stop()}}),t)})))()},methods:{}});x.render=v;t["default"]=x},fb6a:function(e,t,r){"use strict";var n=r("23e7"),i=r("861d"),s=r("e8b5"),a=r("23cb"),o=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),d=r("1dde"),f=d("slice"),b=u("species"),p=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,u,d=c(this),f=o(d.length),v=a(e,f),j=a(void 0===t?f:t,f);if(s(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?i(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(d,v,j);for(n=new(void 0===r?Array:r)(h(j-v,0)),u=0;v<j;v++,u++)v in d&&l(n,u,d[v]);return n.length=u,n}})}}]);
//# sourceMappingURL=answers.7e486f01.js.map