(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["test"],{"1f3f":function(e,t,s){},4941:function(e,t,s){},"78c1":function(e,t,s){"use strict";s.r(t);var r=s("7a23");const n={class:"max-w-5xl"};function o(e,t,s,o,i,a){const u=Object(r["F"])("quiz");return Object(r["x"])(),Object(r["h"])("div",n,[Object(r["l"])(u)])}const i=e=>(Object(r["A"])("data-v-446af697"),e=e(),Object(r["y"])(),e),a={key:0},u={class:"question lg:border rounded lg:border-gray-300 p-2 sm:p-4 mb-4 sm:mb-8 h-52 2xs:h-44 xs:h-36 lg:h-32 overflow-y-auto"},c={class:"text-base xs:text-lg font-medium py-2"},l={class:"text-sm xs:text-base flex flex-row items-stretch"},d=i(()=>Object(r["i"])("span",{class:"bg-gray-300 rounded-sm w-2 mr-2 my-1"},null,-1)),b={class:"flex-1 text-left"},p={class:"py-4 sm:mt-4"},h={class:"text-sm text-gray-300"},m=["disabled"],O={class:"p-1 text-lg text-gray-700"},j={class:"text-sm text-gray-300"},g=["disabled"],x={class:"w-full rounded h-6 p-1 border border-gray-300"};function y(e,t,s,n,o,i){var y;const v=Object(r["F"])("modal");return null!==(y=o.questions)&&void 0!==y&&y.length?(Object(r["x"])(),Object(r["h"])("div",a,[Object(r["i"])("div",u,[Object(r["i"])("h2",c,Object(r["H"])(i.currentQuestion.title),1),Object(r["i"])("div",l,[d,Object(r["i"])("h3",b,Object(r["H"])(i.currentQuestion.subtitle),1)])]),(Object(r["x"])(),Object(r["h"])("div",{key:o.currentQuestionIndex,class:"answers flex flex-col sm:max-w-2xl m-auto"},[Object(r["i"])("button",{class:Object(r["s"])(["border-2 border-solid active:outline-none answer col-al5 text-white font-semibold uppercase text-sm px-6 py-1 sm:py-2.5 rounded mb-1 ease-linear transition-all duration-150",i.isCurrentQuestionAnswered&&"5"===i.currentQuestionAnswer?"border-dashed border-gray-500":"border-transparent"]),type:"button",onClick:t[0]||(t[0]=e=>i.answerQuestion("5"))}," Rozhodně souhlasím ",2),Object(r["i"])("button",{class:Object(r["s"])(["border-2 border-solid active:outline-none answer col-al4 text-white font-semibold uppercase text-sm px-6 py-1 sm:py-2.5 rounded mb-1 ease-linear transition-all duration-150",i.isCurrentQuestionAnswered&&"4"===i.currentQuestionAnswer?"border-dashed border-gray-500":"border-transparent"]),type:"button",onClick:t[1]||(t[1]=e=>i.answerQuestion("4"))}," Spíše souhlasím ",2),Object(r["i"])("button",{class:Object(r["s"])(["flex-1 border-2 border-solid active:outline-none answer col-al3 text-white font-semibold uppercase text-sm px-6 py-1 sm:py-2.5 rounded mb-1 ease-linear transition-all duration-150",i.isCurrentQuestionAnswered&&"3"===i.currentQuestionAnswer?"border-dashed border-gray-500":"border-transparent"]),type:"button",onClick:t[2]||(t[2]=e=>i.answerQuestion("3"))}," Neutrální ",2),Object(r["i"])("button",{class:Object(r["s"])(["border-2 border-solid active:outline-none answer col-al2 text-white font-semibold uppercase text-sm px-6 py-1 sm:py-2.5 rounded mb-1 ease-linear transition-all duration-150",i.isCurrentQuestionAnswered&&"2"===i.currentQuestionAnswer?"border-dashed border-gray-500":"border-transparent"]),type:"button",onClick:t[3]||(t[3]=e=>i.answerQuestion("2"))}," Spíše nesouhlasím ",2),Object(r["i"])("button",{class:Object(r["s"])(["border-2 border-solid active:outline-none answer col-al1 text-white font-semibold uppercase text-sm px-6 py-1 sm:py-2.5 rounded mb-1 ease-linear transition-all duration-150",i.isCurrentQuestionAnswered&&"1"===i.currentQuestionAnswer?"border-dashed border-gray-500":"border-transparent"]),type:"button",onClick:t[4]||(t[4]=e=>i.answerQuestion("1"))}," Rozhodně nesouhlasím ",2),Object(r["i"])("button",{class:Object(r["s"])(["flex-1 w-1/2 sm:w-1/3 self-end border-2 border-solid active:outline-none answer col-al0 text-white font-semibold uppercase text-sm px-6 py-1 sm:py-2.5 rounded mb-1 ease-linear transition-all duration-150",i.isCurrentQuestionAnswered&&"0"===i.currentQuestionAnswer?"border-dashed border-gray-500":"border-transparent"]),type:"button",onClick:t[5]||(t[5]=e=>i.answerQuestion("0"))}," Nevím ",2)])),Object(r["i"])("div",p,[(Object(r["x"])(),Object(r["h"])("div",{key:o.currentQuestionIndex,class:"xs:p-2 grid grid-cols-3 sm:max-w-2xl mx-auto"},[Object(r["i"])("span",h,[Object(r["i"])("button",{class:Object(r["s"])(["p-1 border border-transparent active:outline-none rounded",{"hover:border-gray-400 text-gray-600":!i.isCurrentQuestionFirst}]),disabled:i.isCurrentQuestionFirst,onClick:t[6]||(t[6]=(...e)=>i.goToPreviousQuestion&&i.goToPreviousQuestion(...e))}," < předchozí ",10,m)]),Object(r["i"])("span",O," Otázka "+Object(r["H"])(o.currentQuestionIndex+1)+" z "+Object(r["H"])(i.isCurrentQuestionPrimary?i.primaryQuestionsCount:o.questions.length),1),Object(r["i"])("span",j,[i.isCurrentQuestionLast?Object(r["g"])("",!0):(Object(r["x"])(),Object(r["h"])("button",{key:0,class:Object(r["s"])(["p-1 border border-transparent active:outline-none rounded",{"hover:border-gray-400 text-gray-600":i.isCurrentQuestionAnswered&&!i.isCurrentQuestionLast}]),disabled:!i.isCurrentQuestionAnswered,onClick:t[7]||(t[7]=(...e)=>i.goToNextQuestion&&i.goToNextQuestion(...e))}," další > ",10,g))])])),Object(r["i"])("div",x,[Object(r["i"])("div",{class:"progress-bar rounded-sm h-full bg-gray-300",style:Object(r["t"])({width:100/((i.isCurrentQuestionPrimary?i.primaryQuestionsCount:o.questions.length)/(o.currentQuestionIndex+1))+"%"})},null,4)])]),Object(r["l"])(v,{show:o.showModal,message:`Zvládnete ještě ${o.questions.length-i.primaryQuestionsCount} otázek?`,text:`Můžete test ihned ukončit nebo vyplnit posledních ${o.questions.length-i.primaryQuestionsCount} otázek a dostat tak přesnější výsledek.`,"button-yes":"Ano, zvládnu!","button-no":"Ne, zobrazit výsledek",onClose:t[8]||(t[8]=e=>i.decideToContinue(e))},null,8,["show","message","text"])])):Object(r["g"])("",!0)}s("14d9");var v=s("79f6"),w=s("714b"),f={name:"Quiz",components:{Modal:w["a"]},data(){return{currentQuestionIndex:0,questions:[],showModal:!1}},computed:{isCurrentQuestionFirst(){return 0===this.currentQuestionIndex},isCurrentQuestionLast(){return this.currentQuestionIndex+1>=this.questions.length},currentQuestion(){return this.questions[this.currentQuestionIndex]},isCurrentQuestionAnswered(){var e;return!(null===(e=this.$store.state.answers.find(e=>e.Question.id===this.currentQuestion.id))||void 0===e||!e.agreeLevel)},currentQuestionAnswer(){var e;return!!this.isCurrentQuestionAnswered&&(null===(e=this.$store.state.answers.find(e=>e.Question.id===this.currentQuestion.id))||void 0===e?void 0:e.agreeLevel)},primaryQuestionsCount(){return this.questions.filter(e=>e.isPrimary).length},isCurrentQuestionPrimary(){return this.primaryQuestionsCount>this.currentQuestionIndex}},async created(){this.questions=await Object(v["a"])({url:"questions"});const e=parseInt(this.$route.query.q);e>0&&e<=this.questions.length&&this.$store.state.answers.length>=e-1?this.currentQuestionIndex=e-1:this.setCurrentQuestionQuery()},methods:{async setCurrentQuestionQuery(){await this.$router.push({query:{q:this.currentQuestionIndex+1}})},goToPreviousQuestion(){this.isCurrentQuestionFirst||(this.currentQuestionIndex-=1,this.setCurrentQuestionQuery())},async goToNextQuestion(){if(this.isCurrentQuestionAnswered&&!this.isCurrentQuestionLast)return this.currentQuestionIndex+=1,void this.setCurrentQuestionQuery();this.isCurrentQuestionLast&&(await this.$store.commit("completeQuiz"),await this.$router.push({name:"Result"}))},async answerQuestion(e){if(this.isCurrentQuestionFirst&&(this.$store.state.answers=[],this.$store.state.quizCompleted=!1),await this.$store.commit("answerQuestion",{Question:{id:this.currentQuestion.id,position:this.currentQuestion.position},agreeLevel:e}),this.primaryQuestionsCount-1===this.currentQuestionIndex)return this.showModal=!0;this.goToNextQuestion()},async decideToContinue(e){e?await this.goToNextQuestion():(await this.$store.commit("completeQuiz"),await this.$router.push({name:"Result"})),this.showModal=!1}}},Q=(s("f224"),s("6b0d")),C=s.n(Q);const k=C()(f,[["render",y],["__scopeId","data-v-446af697"]]);var z=k,A={name:"Test",components:{Quiz:z}};const $=C()(A,[["render",o]]);t["default"]=$},"81ad":function(e,t,s){},"941e":function(e,t,s){"use strict";s("81ad")},d808:function(e,t,s){"use strict";s("1f3f")},eeac:function(e,t,s){"use strict";s.r(t);var r=s("7a23");const n={class:"grid md:grid-cols-2 gap-8 md:gap-4"},o={class:"flex flex-col md:grid grid-rows-2 gap-12"},i={class:""},a=Object(r["i"])("h3",{class:"text-lg leading-6 font-medium text-gray-900 pb-10"}," Podle umístění na kompase: ",-1),u=Object(r["i"])("h3",{class:"text-lg leading-6 font-medium text-gray-900 pb-4"}," Podle směřování na západ/východ (experimentální): ",-1),c={class:"pb-4"},l=Object(r["i"])("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Podle procentuální shody: ",-1);function d(e,t,s,d,b,p){const h=Object(r["F"])("compass"),m=Object(r["F"])("geo-orientation"),O=Object(r["F"])("comparison"),j=Object(r["F"])("router-link");return Object(r["x"])(),Object(r["h"])("div",n,[Object(r["i"])("div",o,[Object(r["i"])("div",i,[a,Object(r["l"])(h,{parties:e.parties},null,8,["parties"])]),Object(r["i"])("div",null,[u,Object(r["l"])(m,{parties:e.parties},null,8,["parties"])])]),Object(r["i"])("div",c,[l,Object(r["l"])(O,{parties:e.parties},null,8,["parties"]),Object(r["l"])(j,{to:"/answers",class:"underline my-2"},{default:Object(r["K"])(()=>[Object(r["k"])(" Zobrazit odpovědi politických stran ")]),_:1})])])}s("14d9");var b=s("593a");const p=e=>(Object(r["A"])("data-v-2a38f658"),e=e(),Object(r["y"])(),e),h={class:"mt-5 md:p-5 grid grid-cols-1 gap-3 text-left"},m={class:"flex flex-col"},O={class:"text-md font-medium text-gray-500 truncate"},j={class:"hidden sm:block md:hidden lg:block"},g={class:"block sm:hidden md:block lg:hidden"},x={class:"mt-0.5 text-2xl font-semibold text-gray-700 grid grid-percentage z-10"},y={class:"flex text-sm text-gray-400 group"},v={class:"shadow-md text-sm font-medium text-gray-600 z-10 select-none absolute left-1/2 top-1/2 -translate-y-1/2 bg-white rounded py-1 px-2 mr-0.5 transition-all transform -translate-x-1/2 scale-x-0 opacity-0 group-hover:scale-100 group-hover:opacity-100"},w={class:"flex items-end p-1 border bg-gray-100 rounded-sm select-none"},f=p(()=>Object(r["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[Object(r["i"])("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})],-1));function Q(e,t,n,o,i,a){return Object(r["x"])(),Object(r["h"])("dl",h,[(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(e.results,(t,n)=>(Object(r["x"])(),Object(r["h"])("div",{key:t.party.id,class:"py-2.5 px-4 border-4 bg-gray-200 rounded overflow-hidden relative flex flex-row items-center"},[Object(r["i"])("span",{class:"flex flex-shrink-0 w-12 h-12 bg-contain border-2 border-white bg-white rounded-md mr-2.5",style:Object(r["t"])({backgroundImage:`url(${s("b553")(`./${t.party.id}.png`)})`})},null,4),Object(r["i"])("span",m,[Object(r["i"])("dt",O,[Object(r["i"])("span",j,Object(r["H"])(t.party.name),1),Object(r["i"])("span",g,Object(r["H"])(t.party.abbreviation),1)]),Object(r["i"])("dd",x,[Object(r["i"])("span",null,Object(r["H"])(t.percentage)+" % ",1),Object(r["i"])("span",y,[Object(r["i"])("span",v,Object(r["H"])(e.bigParties.includes(t.party.abbreviation)?"Zaručeně projde do sněmovny":e.smallParties.includes(t.party.abbreviation)?"Malá šance na postup do sněmovny":"Téměř nulová šance na postup do sněmovny"),1),Object(r["i"])("span",w,[f,Object(r["k"])(" "+Object(r["H"])(e.bigParties.includes(t.party.abbreviation)?"> 99":e.smallParties.includes(t.party.abbreviation)?"< 50":"< 1"),1)])])])]),n?Object(r["g"])("",!0):(Object(r["x"])(),Object(r["h"])("span",{key:0,class:"h-10 w-10 block absolute right-4 top-1/2 transform -translate-y-1/2",style:Object(r["t"])({backgroundImage:`url(${e.locationMarker})`})},null,4))]))),128))])}var C=s("26d3"),k=s("5c40"),z=s("0b73"),A=s.n(z),$=Object(k["p"])({name:"Comparison",props:{parties:{type:Object,required:!0}},data(){return{results:[],locationMarker:A.a,bigParties:["SPOLU","Piráti+STAN","ANO","SPD"],smallParties:["PŘÍSAHA","ČSSD","KSČM","TSS"]}},computed:{},async created(){this.$store.state.quizCompleted||this.$router.push({name:"Test"}),this.parties.forEach(e=>{const t=Object(C["a"])(e.Answers,this.$store.state.answers);this.results.push({party:e,percentage:t})}),this.results.sort((e,t)=>t.percentage-e.percentage)}}),q=(s("d808"),s("6b0d")),I=s.n(q);const P=I()($,[["render",Q],["__scopeId","data-v-2a38f658"]]);var M=P;const T={class:"relative border-4 border-gray-400 rounded"},S={class:"grid grid-cols-10 w-full h-full border border-white"},H={class:"party-name transition-all opacity-0 group-hover:opacity-90 hidden group-hover:inline-block overflow-visible absolute bg-white rounded"},F={class:""};function L(e,t,n,o,i,a){const u=Object(r["F"])("axis-label");return Object(r["x"])(),Object(r["h"])("div",T,[Object(r["l"])(u,{class:"absolute left-0 top-14 z-20 -mt-4 transform lg:-translate-x-1/2"},{default:Object(r["K"])(()=>[Object(r["k"])(" Západ ")]),_:1}),Object(r["l"])(u,{class:"absolute right-0 top-14 z-20 -mt-4 transform lg:translate-x-1/2"},{default:Object(r["K"])(()=>[Object(r["k"])(" Východ ")]),_:1}),Object(r["i"])("div",S,[(Object(r["x"])(),Object(r["h"])(r["a"],null,Object(r["D"])(10,t=>Object(r["i"])("span",{key:t,class:Object(r["s"])(["border border-white relative w-full h-full equal-height not-hover:scale-110 transform hover:z-10 not-hover:border-2 not-hover:-my-px transition-all",{"square-blue":t<=5,"square-red":t>=5}])},[(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(e.partiesSorted,(n,o)=>(Object(r["x"])(),Object(r["h"])(r["a"],{key:n.id},[n.isUser||t!==o+1?n.isUser&&t===o+1?(Object(r["x"])(),Object(r["h"])("span",{key:1,class:"h-full w-full absolute block bg-contain transform -translate-y-1 transition-all duration-150 hover:duration-300 z-30 scale-90 hover:scale-150 hover:-translate-y-4",style:Object(r["t"])({backgroundImage:`url(${e.locationMarker})`})},null,4)):Object(r["g"])("",!0):(Object(r["x"])(),Object(r["h"])("span",{key:0,class:Object(r["s"])(["group h-full w-full absolute block bg-contain border-2 rounded-md transform transition-all duration-150 hover:duration-300 scale-90 hover:scale-150 opacity-70 hover:opacity-100",{"bg-white":!n.isUser,"border-none":n.isUser}]),style:Object(r["t"])({backgroundImage:n.isUser?e.locationMarker:`url(${s("b553")(`./${n.id}.png`)})`})},[Object(r["i"])("span",H,[Object(r["i"])("span",F,Object(r["H"])(n.name),1)])],6))],64))),128))],2)),64))])])}var N=s("b16b"),_=Object(r["m"])({name:"GeoOrientation",components:{AxisLabel:N["a"]},props:{parties:{type:Array,required:!0}},data:function(){return{user:null,partiesSorted:[],locationMarker:A.a}},computed:{},async created(){if(this.$store.state.quizCompleted){const e=this.$store.state.answers;this.user=Object(C["b"])(e),console.log("User orientation:",this.user),this.partiesSorted=[...this.parties,{...this.user,isUser:!0}].sort((e,t)=>t.eastWest-e.eastWest)}},methods:{}});s("941e");const U=I()(_,[["render",L],["__scopeId","data-v-bd1ebb34"]]);var D=U,R=Object(k["p"])({name:"Result",components:{Compass:b["a"],Comparison:M,GeoOrientation:D},data:function(){return{parties:[]}},computed:{},async created(){this.$store.state.quizCompleted||this.$router.push({name:"Test"}),this.parties=this.$store.state.parties},methods:{}});const K=I()(R,[["render",d]]);t["default"]=K},f224:function(e,t,s){"use strict";s("4941")}}]);
//# sourceMappingURL=test.b1d9ed4c.js.map