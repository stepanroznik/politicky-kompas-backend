(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["answers"],{2909:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if(Array.isArray(e))return r(e)}n.d(t,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("fb6a"),n("b0c0");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return s(e)||a(e)||i(e)||o()}},"4df4":function(e,t,n){"use strict";var r=n("0366"),s=n("7b0b"),a=n("9bdd"),i=n("e95a"),o=n("50c4"),c=n("8418"),d=n("35a1");e.exports=function(e){var t,n,u,l,f,b,p=s(e),v="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,w=void 0!==g,O=d(p),j=0;if(w&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==O||v==Array&&i(O))for(t=o(p.length),n=new v(t);t>j;j++)b=w?g(p[j],j):p[j],c(n,j,b);else for(l=O.call(p),f=l.next,n=new v;!(u=f.call(l)).done;j++)b=w?a(l,g,[u.value,j],!0):u.value,c(n,j,b);return n.length=j,n}},"881b":function(e,t,n){"use strict";n.r(t);n("7db0");var r=n("7a23"),s={key:0,class:"h-24"},a={class:"inline-flex flex-col"};function i(e,t,n,i,o,c){var d,u;return Object(r["p"])(),Object(r["d"])(r["a"],null,[null!==(d=e.questions)&&void 0!==d&&d.length&&null!==(u=e.parties)&&void 0!==u&&u.length?(Object(r["p"])(),Object(r["d"])("div",s,[Object(r["g"])("div",null,Object(r["z"])(e.questions[e.index].title),1),(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.parties,(function(t){var n;return Object(r["p"])(),Object(r["d"])("span",{key:t.id},[Object(r["g"])("span",a,[Object(r["f"])(Object(r["z"])(t.abbreviation)+" ",1),Object(r["g"])("input",{type:"number",max:"5",min:"1",class:"w-16",value:null===(n=e.answers.find((function(n){return n.QuestionId===e.currentQuestion.id&&n.PartyId===t.id})))||void 0===n?void 0:n.agreeLevel,onChange:function(n){return e.changeAgreeLevel(t.id,n.target.value)}},null,40,["value","onChange"])])])})),128))])):Object(r["e"])("",!0),Object(r["g"])("a",{href:"#",onClick:t[1]||(t[1]=Object(r["D"])((function(t){return e.index--}),["prevent"]))}," Předchozí "),Object(r["g"])("a",{href:"#",onClick:t[2]||(t[2]=Object(r["D"])((function(){return e.sendAnswers&&e.sendAnswers.apply(e,arguments)}),["prevent"]))}," Odeslat "),Object(r["g"])("a",{href:"#",onClick:t[3]||(t[3]=Object(r["D"])((function(t){return e.index++}),["prevent"]))}," Další ")],64)}var o=n("1da1"),c=(n("c740"),n("a434"),n("159b"),n("99af"),n("96cf"),n("79f6")),d=Object(r["h"])({name:"Answers",data:function(){return{index:0,parties:[],questions:[],answers:[],newAnswers:[],modifiedAnswers:[]}},computed:{currentQuestion:function(){return this.questions[this.index]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["a"])({url:"parties"});case 2:return e.parties=t.sent,t.next=5,Object(c["a"])({url:"questions"});case 5:return e.questions=t.sent,t.next=8,Object(c["a"])({url:"answers"});case 8:e.answers=t.sent;case 9:case"end":return t.stop()}}),t)})))()},methods:{changeAgreeLevel:function(e,t){var n=this.currentQuestion,r=this.answers.find((function(t){return t.QuestionId===n.id&&t.PartyId===e})),s=this.newAnswers.findIndex((function(t){return t.QuestionId===n.id&&t.PartyId===e}));-1!==s&&this.newAnswers.splice(s,1);var a=this.modifiedAnswers.findIndex((function(t){return t.QuestionId===n.id&&t.PartyId===e}));if(-1!==a&&this.modifiedAnswers.splice(a,1),t){var i={PartyId:e,QuestionId:n.id,agreeLevel:parseInt(t)};console.log("existing:",!!r,"answer:",i),r?this.modifiedAnswers.push(i):this.newAnswers.push(i)}},sendAnswers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("sending these:",e.newAnswers),Object(c["b"])({url:"answers",body:e.newAnswers}),e.modifiedAnswers.forEach((function(e){Object(c["b"])({url:"answers/".concat(e.QuestionId,"/").concat(e.PartyId),body:e,method:"PUT"})})),e.newAnswers=[],e.modifiedAnswers=[],t.next=7,Object(c["a"])({url:"answers"});case 7:e.answers=t.sent;case 8:case"end":return t.stop()}}),t)})))()}}});d.render=i;t["default"]=d},"9bdd":function(e,t,n){var r=n("825a"),s=n("2a62");e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(i){throw s(e),i}}},a434:function(e,t,n){"use strict";var r=n("23e7"),s=n("23cb"),a=n("a691"),i=n("50c4"),o=n("7b0b"),c=n("65f0"),d=n("8418"),u=n("1dde"),l=u("splice"),f=Math.max,b=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var n,r,u,l,h,g,w=o(this),O=i(w.length),j=s(e,O),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=O-j):(n=m-2,r=b(f(a(t),0),O-j)),O+n-r>p)throw TypeError(v);for(u=c(w,r),l=0;l<r;l++)h=j+l,h in w&&d(u,l,w[h]);if(u.length=r,n<r){for(l=j;l<O-r;l++)h=l+r,g=l+n,h in w?w[g]=w[h]:delete w[g];for(l=O;l>O-r+n;l--)delete w[l-1]}else if(n>r)for(l=O-r;l>j;l--)h=l+r-1,g=l+n-1,h in w?w[g]=w[h]:delete w[g];for(l=0;l<n;l++)w[l+j]=arguments[l+2];return w.length=O-r+n,u}})},a630:function(e,t,n){var r=n("23e7"),s=n("4df4"),a=n("1c7e"),i=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:i},{from:s})},caad:function(e,t,n){"use strict";var r=n("23e7"),s=n("4d64").includes,a=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},f37e:function(e,t,n){"use strict";n.r(t);n("caad"),n("7db0");var r=n("7a23"),s={key:0,class:"grid gap-6 py-4"},a={class:"pb-2 flex flex-row items-center"},i={class:"h-4 w-4 mr-2 text-gray-500 font-semibold leading-3 select-none"},o=Object(r["g"])("path",{"fill-rule":"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),c={class:"text-left font-medium sm:w-2/3"},d={class:"grid grid-cols-6 gap-1"},u=Object(r["g"])("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"},null,-1),l={key:0,class:"sm:hidden inline-block mb-1 font-bold text-gray-500 text-md transform -translate-y-1"},f={class:"text-xs md:text-sm hidden sm:inline-block"},b={class:"flex flex-shrink-0 flex-wrap justify-center"};function p(e,t,p,v,h,g){var w,O,j=Object(r["x"])("loading");return null!==(w=e.questions)&&void 0!==w&&w.length&&null!==(O=e.parties)&&void 0!==O&&O.length?(Object(r["p"])(),Object(r["d"])("div",s,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.questions,(function(t){return Object(r["p"])(),Object(r["d"])("div",{key:t.id},[Object(r["g"])("span",a,[Object(r["g"])("span",i,[["top","bottom","left","right"].includes(t.position)?(Object(r["p"])(),Object(r["d"])("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",class:["transform",{"rotate-90":"left"===t.position,"-rotate-90":"right"===t.position,"rotate-180":"top"===t.position}],viewBox:"0 0 20 20",fill:"currentColor"},[o],2)):(Object(r["p"])(),Object(r["d"])(r["a"],{key:1},[Object(r["f"])(Object(r["z"])("center"===t.position?"●":t.position[0]),1)],64))]),Object(r["g"])("h3",c,Object(r["z"])(t.title),1)]),Object(r["g"])("div",d,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.reverseOrder,(function(s,a){return Object(r["p"])(),Object(r["d"])("div",{key:s,class:["border-2 rounded-md py-2",0===a||1===a?"border-green-300":2===a?"border-yellow-300":3===a||4===a?"border-red-300":"border-gray-300"]},[(Object(r["p"])(),Object(r["d"])("svg",{class:["inline-block sm:hidden h-5 w-5 mb-2",0===a?"text-green-500 transform rotate-0":1===a?"text-green-500 transform rotate-45":2===a?"text-yellow-500 transform rotate-90":3===a?"text-red-500 transform rotate-135":4===a?"text-red-500 transform rotate-180":"hidden"],xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[u],2)),5===a?(Object(r["p"])(),Object(r["d"])("span",l," ? ")):Object(r["e"])("",!0),Object(r["g"])("span",f,Object(r["z"])(0===a?"Souhlasí":1===a?"Spíše souhlasí":2===a?"Neutrální":3===a?"Spíše nesouhlasí":4===a?"Nesouhlasí":"Neví/neodpověděli"),1),Object(r["g"])("div",b,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.parties,(function(a){var i;return Object(r["p"])(),Object(r["d"])(r["a"],{key:a.id},[s==(null===(i=a.Answers.find((function(e){return e.Question.id===t.id})))||void 0===i?void 0:i.agreeLevel)?(Object(r["p"])(),Object(r["d"])("span",{key:0,class:["h-10 w-10 block transform scale-90 opacity-70",{"border-2 rounded-md bg-white bg-contain transition-all duration-150 hover:z-10 hover:duration-300 hover:scale-150 hover:opacity-100":!a.isUser}],style:{backgroundImage:a.isUser?"url(".concat(e.locationMarker,")"):"url(".concat(n("b553")("./".concat(a.id,".png")),")")}},null,6)):Object(r["e"])("",!0)],64)})),128))])],2)})),128))])])})),128))])):(Object(r["p"])(),Object(r["d"])(j,{key:1}))}var v=n("2909"),h=n("1da1"),g=(n("96cf"),n("99af"),n("3a5e")),w=n("79f6"),O=n("0b73"),j=n.n(O),m=Object(r["h"])({name:"Answers",components:{Loading:g["a"]},data:function(){return{parties:[],questions:[],reverseOrder:[5,4,3,2,1,void 0],locationMarker:j.a}},computed:{},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(w["a"])({url:"questions"});case 2:e.questions=t.sent,e.parties=[].concat(Object(v["a"])(e.$store.state.parties),[{Answers:e.$store.state.answers,isUser:!0}]),console.log("parties with user",e.parties);case 5:case"end":return t.stop()}}),t)})))()},methods:{}});m.render=p;t["default"]=m},fb6a:function(e,t,n){"use strict";var r=n("23e7"),s=n("861d"),a=n("e8b5"),i=n("23cb"),o=n("50c4"),c=n("fc6a"),d=n("8418"),u=n("b622"),l=n("1dde"),f=l("slice"),b=u("species"),p=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,u,l=c(this),f=o(l.length),h=i(e,f),g=i(void 0===t?f:t,f);if(a(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?s(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(l,h,g);for(r=new(void 0===n?Array:n)(v(g-h,0)),u=0;h<g;h++,u++)h in l&&d(r,u,l[h]);return r.length=u,r}})}}]);
//# sourceMappingURL=answers.5e469b02.js.map